import{r as _,x as b,u as m,o as y,y as v,b as u,c as i,d as e,t as l,w as T,k as C,e as h,i as w,F as M,l as B,m as D}from"./index-956486c7.js";const F={class:"Task"},L={class:"Task__name"},N={class:"Task__title title-task"},P={class:"Task__des des-task"},R={class:"task__plan plan-content"},S={class:"plan-content__add-block"},V={class:"plans"},q={class:"checkbox"},A=["for"],E=["id","checked"],U=["for"],j={class:"task__progress progress"},z=["value"],I={__name:"Task",setup(G){let o=_([]),s;_("");let c=_(0);const f=b(),r=m();y(()=>{console.log(o)});function g(){c.value=o.value.filter(n=>n.checked)}let p=v(()=>(console.log(c.value),Math.round(c.value.length*100/o.value.length)));const t=v(()=>r.getAll.find(n=>n.id==f.query.id));function x(){if(s==null||s===""){r.sendMess(D("Пустое поле!","error"));return}r.add(t.value,s)}return(n,k)=>(u(),i("div",F,[e("div",L,[e("h2",N,l(t.value.title),1),e("p",P,l(t.value.des),1)]),e("div",R,[e("div",S,[T(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=d=>w(s)?s.value=d:s=d)},null,512),[[C,h(s)]]),e("div",{class:"plan-content_save .save",onClick:x},"+")]),e("div",V,[(u(!0),i(M,null,B(t.value.plan,(d,a)=>(u(),i("div",q,[e("label",{for:a,class:"checkbox-label"},[e("input",{class:"checkbox",ref_for:!0,ref_key:"checkbox",ref:o,type:"checkbox",id:a,onChange:g,name:"option[]",checked:t.value.plan[a]},null,40,E),e("label",{for:a},l(a),9,U)],8,A)]))),256))]),e("div",j,[e("span",null,l(h(p))+"%",1),e("progress",{max:"100",value:h(p)},null,8,z)])])]))}};export{I as default};
