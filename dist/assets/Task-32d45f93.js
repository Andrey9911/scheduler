import{_ as w,r as c,o as B,a as M,u as N,b as S,c as m,d as k,e as p,f as s,n as V,t as d,g as D,h as e,i as g,w as b,v as F,j as L,F as P,k as R,m as U}from"./index-7a53b2c7.js";const j={class:"Task"},q={class:"Task__name"},z={class:"Task__title title-task"},A={class:"Task__des des-task"},E={class:"task__plan plan-content"},I={class:"plan-content__add-block"},G={class:"checkbox"},H=["for"],J=["id"],K=["for"],O={class:"task__progress progress"},Q=["max","value"],W={__name:"Task",setup(X){let t=c(!1),f=c(),n,h=c(),x=100,a,o=c();B(()=>{console.log(n.length),f=c(n)}),M(()=>{console.log(n[0]);for(let l=0;l<f.value;l++)n.checked=!1});async function T(){console.log(r),h.value=Math.round(f.value.filter(l=>l.checked).length*100/n.length)}const y=N(),v=S(),r=m(()=>v.data_plan.find(l=>l.id==y.query.id));m(()=>{});function C(){if(t=!1,a==null||a===""){console.log(o.value),o.value=U("Пустое поле!","error"),setTimeout(()=>{o=c(void 0),console.log(o)},1e3);return}v.add(r.value,a)}return(l,_)=>(k(),p("div",j,[s(o)!=null?(k(),p("div",{key:0,class:V(["Task__mess message_block",{error:s(o).error}])},d(s(o).text_mess),3)):D("",!0),e("div",q,[e("h2",z,d(s(r).title),1),e("p",A,d(s(r).des),1)]),e("div",E,[e("div",{class:"plan-content__add add-step",onClick:_[0]||(_[0]=i=>g(t)?t.value=!s(t):t=!s(t))},"+"),b(e("div",I,[b(e("input",{type:"text","onUpdate:modelValue":_[1]||(_[1]=i=>g(a)?a.value=i:a=i)},null,512),[[L,s(a)]]),e("div",{class:"plan-content_save save",onClick:C},"+")],512),[[F,s(t)]]),(k(!0),p(P,null,R(s(r).plan,(i,u)=>(k(),p("div",G,[e("label",{for:u,class:"checkbox-label"},[e("input",{class:"checkbox",ref_for:!0,ref_key:"checkbox",ref:n,type:"checkbox",id:u,onChange:T,name:"option[]"},null,40,J),e("label",{for:u},d(u),9,K)],8,H)]))),256))]),e("div",O,[e("progress",{max:s(x),value:s(h)},null,8,Q),e("span",null,d(s(h))+"%",1)])]))}},Z=w(W,[["__scopeId","data-v-6031c267"]]);export{Z as default};
